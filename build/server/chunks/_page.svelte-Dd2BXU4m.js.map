{"version":3,"file":"_page.svelte-Dd2BXU4m.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_page.svelte.js"],"sourcesContent":["import { e as escape_html } from \"../../chunks/escaping.js\";\nimport \"clsx\";\nimport { t as push, y as slot, z as bind_props, v as pop, F as copy_payload, G as assign_payload } from \"../../chunks/index.js\";\nimport { j as fallback } from \"../../chunks/utils2.js\";\nfunction Geolocation($$payload, $$props) {\n  push();\n  let coords = fallback($$props[\"coords\"], () => [-1, -1], true);\n  let position = fallback($$props[\"position\"], () => ({}), true);\n  let options = fallback($$props[\"options\"], () => ({}), true);\n  let getPosition = fallback($$props[\"getPosition\"], false);\n  let watch = fallback($$props[\"watch\"], false);\n  let loading = fallback($$props[\"loading\"], false);\n  let success = fallback($$props[\"success\"], false);\n  let error = fallback($$props[\"error\"], false);\n  let notSupported = fallback($$props[\"notSupported\"], false);\n  function watchPosition(opts) {\n    notSupported = false;\n    loading = true;\n    error = false;\n    if (!(\"geolocation\" in navigator)) {\n      notSupported = true;\n    } else {\n      if (watcherId) clearWatcher(watcherId);\n      watcherId = navigator.geolocation.watchPosition(handlePosition, handleError, opts);\n      return watcherId;\n    }\n  }\n  async function getGeolocationPosition(opts) {\n    notSupported = false;\n    loading = true;\n    error = false;\n    if (!(\"geolocation\" in navigator)) {\n      notSupported = true;\n    } else {\n      navigator.geolocation.getCurrentPosition(handlePosition, handleError, opts);\n    }\n  }\n  function clearWatcher(id) {\n    if (!(\"geolocation\" in navigator)) {\n      notSupported = true;\n    } else {\n      navigator.geolocation.clearWatch(id);\n      watcherId = void 0;\n    }\n  }\n  let watcherId = void 0;\n  let lastPosition = void 0;\n  function handlePosition(pos) {\n    coords = [pos.coords.longitude, pos.coords.latitude];\n    position = {\n      coords: {\n        accuracy: pos.coords.accuracy,\n        altitude: pos.coords.altitude,\n        altitudeAccuracy: pos.coords.altitudeAccuracy,\n        heading: pos.coords.heading,\n        latitude: pos.coords.latitude,\n        longitude: pos.coords.longitude,\n        speed: pos.coords.speed\n      },\n      timestamp: pos.timestamp\n    };\n    if (!lastPosition || lastPosition.coords.latitude !== pos.coords.latitude || lastPosition.coords.longitude !== pos.coords.longitude) {\n      lastPosition = pos;\n    }\n    loading = false;\n  }\n  function handleError(geolocationError) {\n    error = geolocationError;\n    loading = false;\n  }\n  if (typeof window !== \"undefined\" && getPosition && watch) {\n    watchPosition(options);\n  }\n  if (typeof window !== \"undefined\" && getPosition && !watch) {\n    getGeolocationPosition(options);\n  }\n  success = getPosition && !loading && !error;\n  if ((!getPosition || !watch) && watcherId) clearWatcher(watcherId);\n  $$payload.out.push(`<!---->`);\n  slot($$payload, $$props, \"default\", { loading, success, error, notSupported, coords });\n  $$payload.out.push(`<!---->`);\n  bind_props($$props, {\n    coords,\n    position,\n    options,\n    getPosition,\n    watch,\n    loading,\n    success,\n    error,\n    notSupported,\n    watchPosition,\n    getGeolocationPosition,\n    clearWatcher\n  });\n  pop();\n}\nfunction _page($$payload, $$props) {\n  push();\n  let coords = [];\n  let $$settled = true;\n  let $$inner_payload;\n  function $$render_inner($$payload2) {\n    Geolocation($$payload2, {\n      getPosition: true,\n      get coords() {\n        return coords;\n      },\n      set coords($$value) {\n        coords = $$value;\n        $$settled = false;\n      }\n    });\n    $$payload2.out.push(`<!----> <pre>${escape_html(JSON.stringify(coords))}</pre>`);\n  }\n  do {\n    $$settled = true;\n    $$inner_payload = copy_payload($$payload);\n    $$render_inner($$inner_payload);\n  } while (!$$settled);\n  assign_payload($$payload, $$inner_payload);\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}